<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

  <!-- InstanceBegin template="../../../../../_Templates/Help_Contetns_enTitle.dwt" -->

    <head>
      <meta name="keywords" content="PathConverter, 相対パス, 絶対パス, absolute path, relative path, POSIX path, HFS path, POSIX パス, HFS パス">
      <meta http-equiv="content-type" content="text/html;charset=utf-8" />
      <title>Synopsis</title>
      <!-- #BeginHeadLocked "" -->
        <link href="../03_history/assets/default2.css" type="text/css" rel="styleSheet" />
        <link href="../03_history/assets/help.css" type="text/css" rel="stylesheet" media="screen" />
        <script type="text/javascript" language="JavaScript1.4" src="../03_history/assets/SmartHeader.js"></script>
      <!-- #EndHeadLocked -->
      <link href="assets/AppleScript.css" rel="stylesheet" type="text/css" media="all">
    </head>

    <body>
      <p id="smartheader" style="visibility:hidden"><!-- InstanceBeginEditable name="SmartHeader" --><a href="index.html">PathConverter Help</a> <!-- InstanceEndEditable --></p>
      <!-- InstanceBeginEditable name="Body" -->
        <h1>PathConverter</h1>
        <h2><a id="what" name="what"></a>What ?</h2>
        
        <p>PathConverter は、相対パスを絶対パスに変換したり、もしくはその逆、絶対パスから相対パスへの変換を行う AppleScript モジュールです。</p>
        <p>絶対パスとは、次のようにディスクの第一階層から完全にその場所が記述されたパスのことです。</p>
        
        <p class="terminalCommand">Macintosh HD:Users:hello:document1.text</p>
        
        <p>次に、相対パスについてですが、まず、もう一つの絶対パスを考えます。</p>
        
        <p class="terminalCommand">Macintosh HD:Users:hey:document2.text</p>
        
        <p>このファイルのパスは document1.text を基準に考えると、次のように書くことができます。</p>
        
        <p class="terminalCommand">::hey:document2.text</p>
        
        <p>これが相対パスです。</p>
        
        <p>上記のパスの記述方法は HFS 形式のパスの記述の仕方ですが、PathConveter は次のような POSIX 形式も扱えます。</p>
        
        <div class="terminalCommand">
          <p>/Users/hello/document1.text</p>
          <p>../hey/document2.text</p>
        </div>
        <h2><a id="usage" name="usage"></a>Usage</h2>
        
        <p>PathConverter の標準的な使い方は、</p>
        <ol>
          <li><a href="../02_reference/pages/make_with.html">make_with</a> の引数に基準パスを与えて、PathConverter のインスタンスを生成します。このとき、基準パスに設定したパスの形式に従って、POSIX形式もしくはHFS形式のどちらのパスを扱うか決定します。</li>
          <li>次に <a href="../02_reference/pages/absolute_path.html">absolute_path</a> もしくは <a href="../02_reference/pages/relative_path.html">relative_path</a> を使って、相対パス⇔絶対パスの間のパスの変換を行います。基準パスに設定したパスと種類が違うものは変換できません。</li>
        </ol>
        
        <div class="sourceCode">
          <div>
            <span class="langKeyword">property</span> <span class="userDefine">PathConverter</span><span class="normal"> : </span><span class="userDefine">load</span><span class="normal">(&quot;PathConverter&quot;) </span><span class="langKeyword">of</span> <span class="appKeyword">application</span><span class="normal"> (</span><span class="langKeyword">get</span><span class="normal"> &quot;ModuleLoader&quot;)</span></div>
          <br />
          <div>
            <span class="normal">--</span><span class="comment"> HFS Path</span></div>
          <div>
            <span class="langKeyword">set</span> <span class="userDefine">pathconv</span> <span class="langKeyword">to</span> <span class="userDefine">PathConverter</span><span class="normal">'s </span><span class="userDefine">make_with</span><span class="normal">(&quot;Macintosh HD:Users:tkurita:Documents:hey.txt&quot;)</span></div>
          <div>
            <span class="appKeyword">log</span><span class="normal"> (</span><span class="userDefine">relative_path</span> <span class="langKeyword">of</span> <span class="userDefine">pathconv</span> <span class="appKeyword">for</span><span class="normal"> &quot;Macintosh HD:Users:tkurita:articles:hello.txt&quot;)</span></div>
          <div>
            <span class="normal">(*</span><span class="comment"> ::articles:hello.txt </span><span class="normal">*)</span></div>
          <br />
          <div>
            <span class="appKeyword">log</span><span class="normal"> (</span><span class="userDefine">absolute_path</span> <span class="langKeyword">of</span> <span class="userDefine">pathconv</span> <span class="appKeyword">for</span><span class="normal"> &quot;::hello.txt&quot;)</span></div>
          <div>
            <span class="normal">(*</span><span class="comment"> Macintosh HD:Users:tkurita:hello.txt </span><span class="normal">*)</span></div>
          <br />
          <div>
            <span class="normal">--</span><span class="comment"> POSIX path</span></div>
          <div>
            <span class="langKeyword">set</span> <span class="userDefine">pathconv</span> <span class="langKeyword">to</span> <span class="userDefine">PathConverter</span><span class="normal">'s </span><span class="userDefine">make_with</span><span class="normal">(&quot;/Users/tkurita/Documents/hey.txt&quot;)</span></div>
          <div>
            <span class="appKeyword">log</span><span class="normal"> (</span><span class="userDefine">relative_path</span> <span class="langKeyword">of</span> <span class="userDefine">pathconv</span> <span class="appKeyword">for</span><span class="normal"> &quot;/Users/tkurita/articles/hello.txt&quot;)</span></div>
          <div>
            <span class="normal">(*</span><span class="comment"> ../articles/hello.txt </span><span class="normal">*)</span></div>
          <br />
          <div>
            <span class="appKeyword">log</span><span class="normal"> (</span><span class="userDefine">relative_path</span> <span class="langKeyword">of</span> <span class="userDefine">pathconv</span> <span class="appKeyword">for</span><span class="normal"> &quot;/Users/tkurita/Documents/&quot;)</span></div>
          <div>
            <span class="normal">(*</span><span class="comment">./</span><span class="normal">*)</span></div>
          <br />
          <div>
            <span class="appKeyword">log</span><span class="normal"> (</span><span class="userDefine">absolute_path</span> <span class="langKeyword">of</span> <span class="userDefine">pathconv</span> <span class="appKeyword">for</span><span class="normal"> &quot;../articles/hello.txt&quot;)</span></div>
          <div>
            <span class="normal">(*</span><span class="comment"> /Users/tkurita/articles/hello.txt </span><span class="normal">*)</span></div>
          <div style="position: relative; top: -2em; float: right; text-align: right;" class="scriptButton" >
            <input type="button" value="sample1.scpt" onclick="location.href='applescript://com.apple.scripteditor?action=new%26script=property%20PathConverter%20:%20load(%22PathConverter%22)%20of%20application%20(get%20%22ModuleLoader%22)%0A%0A--%20HFS%20Path%0Aset%20pathconv%20to%20PathConverter%27s%20make_with(%22Macintosh%20HD:Users:tkurita:Documents:hey.txt%22)%0Alog%20(relative_path%20of%20pathconv%20for%20%22Macintosh%20HD:Users:tkurita:articles:hello.txt%22)%0A(*%20::articles:hello.txt%20*)%0A%0Alog%20(absolute_path%20of%20pathconv%20for%20%22::hello.txt%22)%0A(*%20Macintosh%20HD:Users:tkurita:hello.txt%20*)%0A%0A--%20POSIX%20path%0Aset%20pathconv%20to%20PathConverter%27s%20make_with(%22/Users/tkurita/Documents/hey.txt%22)%0Alog%20(relative_path%20of%20pathconv%20for%20%22/Users/tkurita/articles/hello.txt%22)%0A(*%20../articles/hello.txt%20*)%0A%0Alog%20(relative_path%20of%20pathconv%20for%20%22/Users/tkurita/Documents/%22)%0A(*./*)%0A%0Alog%20(absolute_path%20of%20pathconv%20for%20%22../articles/hello.txt%22)%0A(*%20/Users/tkurita/articles/hello.txt%20*)%0A'" /></div>
        </div>
        
        <p>おまけの機能として、PathConverter は文字列の解析だけをたよりに、POSIX パスを HFS パスに変換することができます。</p>
        <p>もっぱら、相対パスの変換を想定しています。絶対パスの場合は、POSIX file、POSIX path of を使って容易に相互の変換ができますが、相対パスを絶対パスを経由せずに変換することは容易ではありません。</p>
        <p>もし、POSIX 相対パスを HFS 相対パスに変換する必要があるときは、<a href="../02_reference/pages/hfs_from_posix.html">hfs_from_posix</a> を試してみてください。一応、絶対パスも扱えるはずです。</p>
        
        <div class="sourceCode">
          <div>
            <span class="langKeyword">property</span> <span class="userDefine">PathConverter</span><span class="normal"> : </span><span class="userDefine">load</span><span class="normal">(&quot;PathConverter&quot;) </span><span class="langKeyword">of</span> <span class="appKeyword">application</span><span class="normal"> (</span><span class="langKeyword">get</span><span class="normal"> &quot;ModuleLoader&quot;)</span></div>
          <br />
          <div>
            <span class="langKeyword">tell</span> <span class="userDefine">PathConverter</span></div>
          <div style="text-indent:4ex;">
            <span class="appKeyword">log</span><span class="normal"> (</span><span class="userDefine">hfs_from_posix</span><span class="normal">(&quot;../articles/hello.txt&quot;))</span></div>
          <div style="text-indent:4ex;">
            <span class="normal">(*</span><span class="comment"> ::articles:hello.txt </span><span class="normal">*)</span></div>
          <div>
            <span class="langKeyword">end</span> <span class="langKeyword">tell</span></div>
          <div style="position: relative; top: -2em; float: right; text-align: right;" class="scriptButton" >
            <input type="button" value="sample2.scpt" onclick="location.href='applescript://com.apple.scripteditor?action=new%26script=property%20PathConverter%20:%20load(%22PathConverter%22)%20of%20application%20(get%20%22ModuleLoader%22)%0A%0Atell%20PathConverter%0A%09log%20(hfs_from_posix(%22../articles/hello.txt%22))%0A%09(*%20::articles:hello.txt%20*)%0Aend%20tell'" /></div>
        </div>
      <!-- InstanceEndEditable -->
      <div class="footer">
        <p>This page was last built on <csobj format="MedDate" h="11" region="0" t="DateTime" w="67">Wed, Jan 21, 2009</csobj> ; <csobj format="LongTime" h="11" region="0" t="DateTime" w="43">9:09:06 PM</csobj> . Thanks for checking it out!</p>
      </div>
    </body>

  <!-- InstanceEnd -->

</html>